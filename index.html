<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Cebolletas Camping - Calvillo, Aguascalientes, Mexico</title>
  <style>
  :root {
    --max: 980px;
    --pad: 18px;

    /* LIGHT THEME */
    --bg: #f6f7fb;              /* page background */
    --card: #ffffff;            /* cards */
    --txt: #0f172a;              /* main text */
    --muted: #475569;            /* secondary text */
    --acc: #2563eb;              /* accent (blue) */

    --border: rgba(15,23,42,.12);
    --shadow: 0 10px 30px rgba(2,6,23,.08);
  }

  * { box-sizing: border-box; }

  html { scroll-behavior: smooth; }

  body {
    margin: 0;
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
    background: var(--bg);
    color: var(--txt);
  }

  a {
    color: var(--acc);
    text-decoration: none;
  }

  header {
    position: sticky;
    top: 0;
    z-index: 10;
    background: rgba(255,255,255,.85);
    backdrop-filter: blur(8px);
    border-bottom: 1px solid var(--border);
  }

  .wrap {
    max-width: var(--max);
    margin: 0 auto;
    padding: 0 var(--pad);
  }

  nav {
    display: flex;
    gap: 14px;
    align-items: center;
    padding: 12px 0;
    overflow-x: auto;
  }

  nav a {
    padding: 8px 10px;
    border-radius: 10px;
    color: var(--txt);
    font-weight: 500;
  }

  nav a:hover {
    background: rgba(37,99,235,.08);
  }

  .hero {
    padding: 34px 0 10px;
  }

  .grid {
    display: grid;
    grid-template-columns: 1.2fr .8fr;
    gap: 18px;
  }

  @media (max-width: 900px) {
    .grid { grid-template-columns: 1fr; }
  }

  .card {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 18px;
    padding: 18px;
    box-shadow: var(--shadow);
  }

  h1 {
    margin: 0 0 10px;
    font-size: 34px;
    letter-spacing: -0.02em;
  }

  h2 {
    margin: 0 0 10px;
    font-size: 22px;
  }

  p {
    margin: 10px 0;
    color: var(--muted);
    line-height: 1.6;
  }

  img {
    width: 100%;
    border-radius: 16px;
    border: 1px solid var(--border);
  }

  section {
    padding: 18px 0;
    scroll-margin-top: 72px;
  }

  .two {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 18px;
  }

  @media (max-width: 900px) {
    .two { grid-template-columns: 1fr; }
  }

  .btn {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 10px 14px;
    border-radius: 12px;
    background: rgba(37,99,235,.1);
    border: 1px solid rgba(37,99,235,.25);
    color: var(--acc);
    font-weight: 500;
  }

  .btn:hover {
    background: rgba(37,99,235,.18);
  }

  video {
    width: 100%;
    border-radius: 16px;
    border: 1px solid var(--border);
    background: #fff;
  }

  footer {
    padding: 30px 0 50px;
    color: var(--muted);
  }

  .small {
    font-size: 13px;
    color: var(--muted);
  }

  /* ===== Carousel ===== */
    .carousel {
    position: relative;
    margin-top: 12px;
    }

    .carousel-track {
    display: flex;
    gap: 14px;
    overflow: hidden;              /* we slide by transform */
    scroll-behavior: smooth;
    }

    /* ===== Carousel image sizing (max 150px height) ===== */
    .carousel-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    }

    .carousel-item img {
    max-height: 150px;     /* <<< REQUIRED */
    width: auto;
    max-width: 100%;
    object-fit: contain;
    cursor: zoom-in;
    user-select: none;
    }

    .carousel-item figcaption {
    text-align: center;
    margin-top: 6px;
    }

    .carousel-btn {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 42px;
    height: 42px;
    border-radius: 999px;
    border: 1px solid var(--border);
    background: rgba(255,255,255,.92);
    box-shadow: var(--shadow);
    color: var(--txt);
    font-size: 26px;
    line-height: 1;
    cursor: pointer;
    }

    .carousel-btn:hover { background: rgba(255,255,255,1); }

    .carousel-btn.prev { left: 10px; }
    .carousel-btn.next { right: 10px; }

    .carousel-dots {
    display: flex;
    justify-content: center;
    gap: 8px;
    margin-top: 12px;
    }

    .carousel-dot {
    width: 10px;
    height: 10px;
    border-radius: 999px;
    border: 1px solid var(--border);
    background: rgba(15,23,42,.12);
    cursor: pointer;
    }

    .carousel-dot.active {
    background: rgba(37,99,235,.35);
    border-color: rgba(37,99,235,.35);
    }

    /* ===== Lightbox (maximize on click) ===== */
    .lightbox {
    position: fixed;
    inset: 0;
    display: none;
    z-index: 999;
    }

    .lightbox.open { display: block; }

    .lightbox-backdrop {
    position: absolute;
    inset: 0;
    background: rgba(2,6,23,.65);
    }

    .lightbox-content {
    position: relative;
    max-width: 1100px;
    margin: 4vh auto;
    padding: 16px;
    border-radius: 18px;
    background: rgba(255,255,255,.96);
    border: 1px solid var(--border);
    box-shadow: 0 20px 60px rgba(2,6,23,.25);
    display: grid;
    grid-template-columns: 52px 1fr 52px;
    align-items: center;
    gap: 10px;
    }

    @media (max-width: 900px) {
    .lightbox-content {
        grid-template-columns: 40px 1fr 40px;
        margin: 2vh 10px;
    }
    }

    .lightbox-figure {
    margin: 0;
    text-align: center;
    }

    .lightbox-figure img {
    max-width: 100%;
    max-height: 78vh;
    width: auto;
    height: auto;
    border-radius: 14px;
    border: 1px solid var(--border);
    cursor: default;
    }

    .lightbox-close {
    position: absolute;
    top: 10px;
    right: 10px;
    width: 40px;
    height: 40px;
    border-radius: 999px;
    border: 1px solid var(--border);
    background: rgba(255,255,255,.95);
    cursor: pointer;
    font-size: 18px;
    }

    .lightbox-nav {
    width: 44px;
    height: 44px;
    border-radius: 999px;
    border: 1px solid var(--border);
    background: rgba(255,255,255,.95);
    cursor: pointer;
    font-size: 26px;
    line-height: 1;
    }

    /* ===== Map card ===== */

    .map-link {
    display: block;
    border-radius: 16px;
    overflow: hidden;
    }

    .map-image {
    width: 100%;
    max-height: 220px;
    object-fit: cover;
    border: 1px solid var(--border);
    border-radius: 16px;
    cursor: pointer;
    transition: transform .15s ease, box-shadow .15s ease;
    }

    .map-link:hover .map-image {
    transform: scale(1.02);
    box-shadow: var(--shadow);
    }

    /* ===== News card (scrollable list) ===== */

    .news-list {
    margin-top: 12px;
    max-height: 260px;           /* scroll box height */
    overflow-y: auto;
    border: 1px solid var(--border);
    border-radius: 14px;
    background: rgba(255,255,255,.6);
    }

    /* nice scrollbar (works in modern browsers; harmless elsewhere) */
    .news-list::-webkit-scrollbar { width: 10px; }
    .news-list::-webkit-scrollbar-thumb {
    background: rgba(15,23,42,.18);
    border-radius: 999px;
    }
    .news-list::-webkit-scrollbar-track { background: transparent; }

    .news-item {
    display: grid;
    grid-template-columns: 140px 1fr;
    gap: 12px;
    padding: 12px 14px;
    border-bottom: 1px solid var(--border);
    }

    .news-item:last-child { border-bottom: 0; }

    .news-date {
    font-weight: 600;
    color: var(--txt);
    white-space: nowrap;
    }

    .news-text {
    color: var(--muted);
    line-height: 1.45;
    }

    /* Mobile: stack date above text */
    @media (max-width: 768px) {
    .news-item {
        grid-template-columns: 1fr;
        gap: 6px;
    }
    .news-date { font-size: 14px; }
    }

    /* ===== Downloads card (scrollable file list) ===== */

    .files-list {
    margin-top: 12px;
    max-height: 260px;          /* scroll box height */
    overflow-y: auto;
    border: 1px solid var(--border);
    border-radius: 14px;
    background: rgba(255,255,255,.6);
    }

    /* scrollbar styling (optional) */
    .files-list::-webkit-scrollbar { width: 10px; }
    .files-list::-webkit-scrollbar-thumb {
    background: rgba(15,23,42,.18);
    border-radius: 999px;
    }
    .files-list::-webkit-scrollbar-track { background: transparent; }

    .file-item {
    display: grid;
    grid-template-columns: 1fr auto;
    gap: 12px;
    padding: 12px 14px;
    border-bottom: 1px solid var(--border);
    align-items: start;
    }

    .file-item:last-child { border-bottom: 0; }

    .file-link {
    font-weight: 650;
    color: var(--acc);
    display: inline-block;
    }

    .file-link:hover { text-decoration: underline; }

    .file-desc {
    margin-top: 4px;
    color: var(--muted);
    line-height: 1.45;
    }

    .file-meta {
    padding: 4px 10px;
    border-radius: 999px;
    border: 1px solid var(--border);
    background: rgba(37,99,235,.08);
    color: var(--txt);
    white-space: nowrap;
    }

    /* Mobile: stack meta below */
    @media (max-width: 768px) {
    .file-item {
        grid-template-columns: 1fr;
    }
    .file-meta { justify-self: start; }
    }

    /* ===== Calendar Card ===== */

    .cal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 14px;
    flex-wrap: wrap;
    }

    .cal-controls {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    }

    .cal-btn {
    width: 42px;
    height: 42px;
    border-radius: 999px;
    border: 1px solid var(--border);
    background: rgba(255,255,255,.92);
    box-shadow: var(--shadow);
    color: var(--txt);
    font-size: 24px;
    line-height: 1;
    cursor: pointer;
    }

    .cal-btn:hover { background: rgba(255,255,255,1); }

    .cal-month {
    font-weight: 700;
    color: var(--txt);
    min-width: 160px;
    text-align: center;
    }

    .cal-grid {
    margin-top: 14px;
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 10px;
    }

    .cal-dow {
    font-size: 12px;
    font-weight: 700;
    color: var(--muted);
    text-align: center;
    padding: 6px 0;
    }

    .cal-day {
    border: 1px solid var(--border);
    border-radius: 14px;
    background: rgba(255,255,255,.7);
    padding: 10px;
    min-height: 84px;
    cursor: pointer;
    transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
    }

    .cal-day:hover {
    transform: translateY(-1px);
    box-shadow: var(--shadow);
    background: rgba(255,255,255,.95);
    }

    .cal-day.muted {
    opacity: .45;
    }

    .cal-day-num {
    font-weight: 800;
    color: var(--txt);
    font-size: 14px;
    }

    .cal-badges {
    margin-top: 8px;
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    }

    .cal-badge {
    font-size: 12px;
    padding: 3px 8px;
    border-radius: 999px;
    border: 1px solid rgba(37,99,235,.25);
    background: rgba(37,99,235,.10);
    color: var(--txt);
    }

    /* ===== Calendar Modal ===== */

    .cal-modal {
    position: fixed;
    inset: 0;
    display: none;
    z-index: 1000;
    }

    .cal-modal.open { display: block; }

    .cal-modal-backdrop {
    position: absolute;
    inset: 0;
    background: rgba(2,6,23,.65);
    }

    .cal-modal-content {
    position: relative;
    max-width: 780px;
    margin: 6vh auto;
    padding: 16px;
    border-radius: 18px;
    background: rgba(255,255,255,.96);
    border: 1px solid var(--border);
    box-shadow: 0 20px 60px rgba(2,6,23,.25);
    }

    @media (max-width: 900px) {
    .cal-modal-content { margin: 2vh 10px; }
    }

    .cal-modal-close {
    position: absolute;
    top: 10px;
    right: 10px;
    width: 40px;
    height: 40px;
    border-radius: 999px;
    border: 1px solid var(--border);
    background: rgba(255,255,255,.95);
    cursor: pointer;
    font-size: 18px;
    }

    .cal-modal-top {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: 12px;
    margin-bottom: 12px;
    flex-wrap: wrap;
    }

    .cal-modal-date {
    font-weight: 900;
    font-size: 18px;
    color: var(--txt);
    }

    .cal-items {
    display: grid;
    gap: 10px;
    }

    .cal-item {
    border: 1px solid var(--border);
    border-radius: 14px;
    padding: 12px;
    background: rgba(255,255,255,.8);
    display: grid;
    grid-template-columns: 1fr auto;
    gap: 10px;
    align-items: start;
    }

    .cal-item-title {
    font-weight: 750;
    color: var(--txt);
    }

    .cal-item-link a {
    color: var(--acc);
    text-decoration: none;
    }
    .cal-item-link a:hover { text-decoration: underline; }

    .cal-item-actions button {
    border: 1px solid var(--border);
    background: rgba(255,255,255,.9);
    border-radius: 12px;
    padding: 8px 10px;
    cursor: pointer;
    }
    .cal-item-actions button:hover { background: rgba(255,255,255,1); }
</style>

<!-- Booking Request Card (Plain JS, embeddable) -->
<style>
  .card {
    max-width: 720px;
    border: 1px solid rgba(0,0,0,.12);
    border-radius: 16px;
    background: #fff;
    box-shadow: 0 1px 2px rgba(0,0,0,.06);
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
    color: #111827;
  }
  .card-header { padding: 16px; border-bottom: 1px solid rgba(0,0,0,.08); }
  .card-title { margin: 0; font-size: 18px; font-weight: 700; }
  .card-sub { margin: 6px 0 0; font-size: 13px; color: #6b7280; }
  .card-body { padding: 16px; display: grid; gap: 14px; }

  .label { font-size: 13px; font-weight: 600; margin-bottom: 6px; display: block; }
  .input, .textarea, .qty {
    width: 100%;
    padding: 10px 12px;
    border: 1px solid rgba(0,0,0,.16);
    border-radius: 10px;
    font-size: 14px;
    outline: none;
  }
  .textarea { min-height: 96px; resize: vertical; }
  .qty { padding: 8px 10px; font-size: 13px; border-radius: 10px; }

  .list {
    border: 1px solid rgba(0,0,0,.12);
    border-radius: 12px;
    overflow: hidden;
  }
  .list-head {
    padding: 10px 12px;
    font-size: 13px;
    font-weight: 700;
    background: rgba(0,0,0,.02);
    border-bottom: 1px solid rgba(0,0,0,.08);
  }

  .row {
    display: grid;
    grid-template-columns: 18px 1fr auto;
    gap: 10px;
    align-items: start;
    padding: 10px 12px;
    border-bottom: 1px solid rgba(0,0,0,.06);
  }
  .row:last-child { border-bottom: none; }
  .row label { font-size: 14px; font-weight: 600; cursor: pointer; }
  .desc { font-size: 12px; color: #6b7280; margin-top: 2px; }

  .qty-wrap { display: none; min-width: 110px; }
  .qty-wrap.show { display: block; }
  .qty-caption { font-size: 11px; color: #6b7280; margin-top: 6px; text-align: right; }

  .actions {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
    margin-top: 4px;
  }

  .btn {
    padding: 10px 12px;
    border: 1px solid rgba(0,0,0,.14);
    border-radius: 12px;
    background: #111827;
    color: white;
    font-weight: 700;
    cursor: pointer;
  }
  .btn:disabled { opacity: .5; cursor: not-allowed; }

  .hint { font-size: 12px; color: #6b7280; }
  .msg { padding: 10px 12px; border-radius: 10px; font-size: 13px; }
  .msg.err { border: 1px solid rgba(220,38,38,.25); background: rgba(220,38,38,.06); color: #b91c1c; }
  .msg.ok { border: 1px solid rgba(16,185,129,.25); background: rgba(16,185,129,.06); color: #065f46; }

  .copybar { display: flex; gap: 10px; align-items: center; }
  .btn2 {
    padding: 10px 12px;
    border: 1px solid rgba(0,0,0,.14);
    border-radius: 12px;
    background: #fff;
    color: #111827;
    font-weight: 700;
    cursor: pointer;
    white-space: nowrap;
  }
</style>
</head>

<body>
  <header>
    <div class="wrap">
      <nav aria-label="Section menu">
        <a href="#overview">Inicio</a>
        <a href="#location">Ubicaci&oacute;n</a>
        <a href="#gallery">Imagenes</a>
        <a href="#video">Video</a>
        <a href="#faq">Preguntas</a>
        <a href="#news">Noticias</a>
        <a href="#downloads">Descargas</a>
        <a href="#calendar">Calendario</a>
        <a href="#booking">Reserva</a>
      </nav>
    </div>
  </header>

  <main class="wrap">
    <section class="hero-header" id="overview">
        <div class="hero-inner">
            <img
            src="assets/img/Cebolletas_logo_v5.png"
            alt="Logo"
            class="hero-logo"
            />

            <div class="small" style="text-align: right;">® Cebolletas es una marca registrada</div>
            <br/>
            <div class="hero-text">
            <h1>Turismo de naturaleza</h1>
            <p class="hero-subtitle">
                Entender y disfrutar la naturaleza que nos rodea. Calvillo, Aguascalientes, M&eacute;xico.
            </p>
            </div>
        </div>
    </section>

    <section id="location">
        <div class="card">
            <h2>Ubicaci&oacute;n</h2>

            <p class="small">Da click en "Ver mapa mas grande" para abrir el mapa en una nueva pestaña</p>

            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d4150.755085413792!2d-102.64351218878981!3d21.880058857912264!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8429cf726f698b17%3A0xdaf330ea4a656514!2sPuentes%20Colgantes%2C%20Cebolletas!5e1!3m2!1sen!2smx!4v1766967888001!5m2!1sen!2smx" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div>
    </section>

    <section id="gallery">
    <div class="card">
        <h2>Galer&iacute;a de Imagenes</h2>
        <p>Mejor vista en navegador de escritorio.</p>

        <div class="carousel" aria-label="Image carousel">
        <button class="carousel-btn prev" type="button" aria-label="Previous image">‹</button>

        <div class="carousel-track" id="carouselTrack">
            <!-- Update src + alt + caption to your files -->
            <figure class="carousel-item">
            <img src="assets/img/puentes/img-01.jpg" alt="Gallery image 1" loading="lazy" />
            <figcaption class="small">Temporada de lluvias</figcaption>
            </figure>

            <figure class="carousel-item">
            <img src="assets/img/puentes/img-02.jpg" alt="Gallery image 2" loading="lazy" />
            <figcaption class="small">Temporada de lluvias</figcaption>
            </figure>

            <figure class="carousel-item">
            <img src="assets/img/puentes/img-03.jpg" alt="Gallery image 3" loading="lazy" />
            <figcaption class="small">Temporada de lluvias</figcaption>
            </figure>

            <figure class="carousel-item">
            <img src="assets/img/puentes/img-04.jpg" alt="Gallery image 4" loading="lazy" />
            <figcaption class="small">Temporada de lluvias</figcaption>
            </figure>

            <figure class="carousel-item">
            <img src="assets/img/puentes/img-05.jpg" alt="Gallery image 5" loading="lazy" />
            <figcaption class="small">Temporada de lluvias</figcaption>
            </figure>

            <figure class="carousel-item">
            <img src="assets/img/cebolletas_001.jpg" alt="Gallery image 6" loading="lazy" />
            <figcaption class="small">Temporada de lluvias</figcaption>
            </figure>

            <figure class="carousel-item">
            <img src="assets/img/cebolletas_002.jpg" alt="Gallery image 7" loading="lazy" />
            <figcaption class="small">Temporada de lluvias</figcaption>
            </figure>
            
            <figure class="carousel-item">
            <img src="assets/img/cebolletas_003.jpg" alt="Gallery image 8" loading="lazy" />
            <figcaption class="small">Temporada de lluvias</figcaption>
            </figure>

            <figure class="carousel-item">
            <img src="assets/img/cebolletas_004.jpg" alt="Gallery image 9" loading="lazy" />
            <figcaption class="small">Temporada de lluvias</figcaption>
            </figure>

            <figure class="carousel-item">
            <img src="assets/img/cebolletas_005.jpg" alt="Gallery image 10" loading="lazy" />
            <figcaption class="small">Temporada de lluvias</figcaption>
            </figure>
        </div>

        <button class="carousel-btn next" type="button" aria-label="Next image">›</button>
        </div>

        <div class="carousel-dots" id="carouselDots" aria-label="Carousel pagination"></div>
    </div>
</section>

<!-- Lightbox Modal (put once, ideally near end of < main > or before < /body >) -->
<div class="lightbox" id="lightbox" aria-hidden="true">
  <div class="lightbox-backdrop" id="lightboxBackdrop"></div>

  <div class="lightbox-content" role="dialog" aria-modal="true" aria-label="Image viewer">
    <button class="lightbox-close" id="lightboxClose" type="button" aria-label="Close">✕</button>

    <button class="lightbox-nav prev" id="lightboxPrev" type="button" aria-label="Previous">‹</button>

    <figure class="lightbox-figure">
      <img id="lightboxImg" alt="" />
      <figcaption class="small" id="lightboxCaption"></figcaption>
    </figure>

    <button class="lightbox-nav next" id="lightboxNext" type="button" aria-label="Next">›</button>
  </div>
</div>

    <section id="video">
      <div class="card">
        <h2>Video galer&iacute;a</h2>
        <p>Cebolletas en temporada de lluvia.</p>
        <video controls preload="metadata">
          <source src="assets/video/cebolletas_video_001.mp4" type="video/mp4" />
          Your browser does not support the video tag.
        </video>
        <p class="small">Tip: Aim under ~25–50MB so it loads fast.</p>
      </div>
    </section>

    <section id="faq">
      <div class="card">
        <h2>Preguntas frecuentes</h2>
        <p><b>P:</b> C&oacute;mo llego a Cebolletas?<br><b>R:</b> El acceso lo encuentras sobre la carretera a Calvillo, como referencia, a 2 km pasando la comunidad del Sauz. <a class="file-link" href="https://maps.app.goo.gl/cUbgM4SGWUwYtyGR9">Mapa</a></p>
        <p><b>P:</b> Hay alguna referencia que me ayude a ubicar el acceso?<br><b>R:</b> Si. Podras ver esta pared con el nombre de Cebolletas. <a class="file-link" href="assets/img/acceso.png">Referencia de acceso</a></p>
      </div>
    </section>

    <section id="news">
        <div class="card">
            <h2>Noticias</h2>
            <p>Notas e informaci&oacute;n sobre el campamento.</p>

            <div class="news-list" role="feed" aria-label="News items">
            <!-- Item -->
            <div class="news-item">
                <div class="news-date" datetime="2025-12-28">Dec 28, 2025</div>
                <div class="news-text">
                Afinando detalles para el &aacute;rea de acampar.
                </div>
            </div>

            <!-- Add more rows here -->
            </div>
        </div>
    </section>

    <section id="downloads">
        <div class="card">
            <h2>Descargas</h2>
            <p>Archivos descargables</p>

            <div class="files-list" role="list" aria-label="Downloadable files">
            <!-- Row -->
             <div class="file-item" role="listitem">
                <div class="file-main">
                <a class="file-link" href="assets/pdf/reglamento.pdf" download>
                    Reglamento para campistas
                </a>
                <div class="file-desc">
                    Descarga, firma y env&iacute;a al administrador y confirma antes de llegar.
                </div>
                </div>
                <div class="file-meta small">PDF</div>
            </div>

            <div class="file-item" role="listitem">
                <div class="file-main">
                <a class="file-link" href="assets/pdf/registro_y_aceptacion.pdf" download>
                    Hoja de registro y aceptaci&oacute;n de reglamento
                </a>
                <div class="file-desc">
                    Descarga, firma y env&iacute;a al administrador y confirma antes de llegar.
                </div>
                </div>
                <div class="file-meta small">PDF</div>
            </div>

            <!-- Add more rows -->
            </div>
        </div>
    </section>
    
    <section id="calendar">
        <div class="card">
            <div class="cal-header">
            <div>
                <h2 style="margin-bottom:6px;">Calendario</h2>
                <p class="small" style="margin:0;">
                Haz clic en un día para ver o agregar información.
                </p>
            </div>

            <div class="cal-controls" aria-label="Controles del calendario">
                <button class="cal-btn" id="calPrev" type="button" aria-label="Mes anterior">‹</button>
                <div class="cal-month" id="calMonthLabel" aria-live="polite"></div>
                <button class="cal-btn" id="calNext" type="button" aria-label="Mes siguiente">›</button>
            </div>
            </div>

            <div class="cal-grid" id="calGrid" aria-label="Calendario mensual"></div>

            
            <!-- Los eventos se publican desde el archivo <code>assets/calendar.json -->
        </div>
    </section>

    <section id="booking">
        <div class="card" id="booking-card">
            <div class="card-header">
                <h3 class="card-title">Reserva</h3>
                <p class="card-sub">
                Selecciona los servicios, escribe los datos solicitados; despues da clicn en "generar datos de reserva" y envia esto por email o whatsapp. <br/> Enseguida te contactaremos para seguimiento.
                </p>
            </div>

            <div class="card-body">
                <div>
                <span class="label">Nombre</span>
                <input class="input" id="br-name" placeholder="el nombre de la persona que hace la reservaci&oacute;n" />
                </div>

                <div>
                <span class="label">Fecha</span>
                <input class="input" id="br-date" type="date" />
                </div>

                <div>
                <span class="label">Cantidad de personas</span>
                <input class="input" id="br-persons" type="number" min="1" step="1" value="1" />
                </div>

                <div>
                <span class="label">Email</span>
                <input class="input" id="br-email" type="email" placeholder="name@example.com" />
                </div>

                <div>
                <span class="label">N&uacute;mero de celular</span>
                <input class="input" id="br-cell" type="tel" placeholder="+52 1 449 123 4567" />
                </div>

                <div class="list" aria-label="required services">
                <div class="list-head">Servicios</div>
                <div id="br-services"></div>
                </div>

                <div>
                <span class="label">Informaci&oacute;n adicional</span>
                <textarea class="textarea" id="br-additional" placeholder="preguntas adicionales"></textarea>
                </div>

                <div id="br-msg" style="display:none;"></div>

                <div class="actions">
                <div class="hint">Seleccionados: <span id="br-selected">0</span></div>
                <button class="btn" id="br-generate">Procesar datos de reservaci&oacute;n y enviar</button>
                </div>

                <div>
                <span class="label">Datos de reserva (copiar y enviar por Whatsapp o email)</span>
                <div class="copybar">
                    <textarea class="textarea" id="br-output" readonly placeholder="Click “Procesar datos de reservación y enviar”..."></textarea>
                    <button class="btn2" id="br-copy" type="button">Copy</button>
                    <br/><button class="btn2" id="br-whatsapp" type="button">Send via WhatsApp</button>
                </div>
                <div class="hint" id="br-copyhint" style="margin-top:6px;"></div>
                </div>
            </div>
            <div class="small" style="text-align: right;">WhatsApp: +52 449 157 6284 <br/> Email: cebolletascalvillo@gmail.com</div>
        </div>
    </section>

    <!-- Calendar Modal (put once, near end of < main > or before < /body > ) -->
    <div class="cal-modal" id="calModal" aria-hidden="true">
        <div class="cal-modal-backdrop" id="calModalBackdrop"></div>

        <div class="cal-modal-content" role="dialog" aria-modal="true" aria-label="Day details">
            <button class="cal-modal-close" id="calModalClose" type="button" aria-label="Close">✕</button>

            <div class="cal-modal-top">
                <div>
                    <div class="cal-modal-date" id="calModalDate"></div>
                    <div class="small" id="calModalSub"></div>
                </div>
                <!--  <button class="btn" id="calAddItem" type="button" >Agregar Nota / Enlace< /button -->
                <div id="calAddItem">...</div>
            </div>
            <div class="cal-items" id="calItems"></div>
        </div>
    </div>

    <footer class="wrap">
      <div class="small">® Administrado por Cebolletas Desarrollo Particular</div>
    </footer>
  </main>

  <script>
    document.getElementById("lastUpdated").textContent =
      new Date(document.lastModified).toLocaleDateString();
  </script>
  <script>
    // Keep your lastUpdated code if you have it
    const lastUpdatedEl = document.getElementById("lastUpdated");
    if (lastUpdatedEl) {
        lastUpdatedEl.textContent = new Date(document.lastModified).toLocaleDateString();
    }

    // ===== Carousel + Lightbox =====
    const track = document.getElementById("carouselTrack");
    const items = track ? Array.from(track.querySelectorAll(".carousel-item")) : [];
    const imgs = track ? Array.from(track.querySelectorAll("img")) : [];
    const dotsWrap = document.getElementById("carouselDots");

    let index = 0;

    function clamp(n, min, max) { return Math.max(min, Math.min(max, n)); }

    function buildDots() {
        if (!dotsWrap) return;
        dotsWrap.innerHTML = "";
        items.forEach((_, i) => {
        const b = document.createElement("button");
        b.type = "button";
        b.className = "carousel-dot" + (i === 0 ? " active" : "");
        b.setAttribute("aria-label", "Go to image " + (i + 1));
        b.addEventListener("click", () => goTo(i));
        dotsWrap.appendChild(b);
        });
    }

    function setDotsActive(i) {
        if (!dotsWrap) return;
        const dots = Array.from(dotsWrap.querySelectorAll(".carousel-dot"));
        dots.forEach((d, di) => d.classList.toggle("active", di === i));
    }

    function goTo(i) {
        index = clamp(i, 0, items.length - 1);
        const w = track.clientWidth;
        track.style.transform = `translateX(${-index * w}px)`;
        setDotsActive(index);
    }

    function next() { goTo(index + 1); }
    function prev() { goTo(index - 1); }

    function bindCarouselButtons() {
        const prevBtn = document.querySelector(".carousel-btn.prev");
        const nextBtn = document.querySelector(".carousel-btn.next");
        if (prevBtn) prevBtn.addEventListener("click", prev);
        if (nextBtn) nextBtn.addEventListener("click", next);
    }

    // Make it responsive: recompute on resize
    window.addEventListener("resize", () => goTo(index));

    // ===== Lightbox =====
    const lightbox = document.getElementById("lightbox");
    const lbBackdrop = document.getElementById("lightboxBackdrop");
    const lbClose = document.getElementById("lightboxClose");
    const lbImg = document.getElementById("lightboxImg");
    const lbCaption = document.getElementById("lightboxCaption");
    const lbPrev = document.getElementById("lightboxPrev");
    const lbNext = document.getElementById("lightboxNext");

    let lightboxOpen = false;

    function openLightbox(i) {
        if (!lightbox || !lbImg) return;
        index = clamp(i, 0, imgs.length - 1);

        const img = imgs[index];
        lbImg.src = img.src;
        lbImg.alt = img.alt || "Gallery image";

        // caption from figcaption if exists
        const cap = img.closest("figure")?.querySelector("figcaption")?.textContent || "";
        if (lbCaption) lbCaption.textContent = cap;

        lightbox.classList.add("open");
        lightbox.setAttribute("aria-hidden", "false");
        lightboxOpen = true;

        // keep carousel in sync
        goTo(index);

        // prevent background scroll
        document.body.style.overflow = "hidden";
    }

    function closeLightbox() {
        if (!lightbox) return;
        lightbox.classList.remove("open");
        lightbox.setAttribute("aria-hidden", "true");
        lightboxOpen = false;
        document.body.style.overflow = "";
    }

    function lightboxNext() { openLightbox(index + 1); }
    function lightboxPrev() { openLightbox(index - 1); }

    // Click-to-open from carousel
    imgs.forEach((img, i) => img.addEventListener("click", () => openLightbox(i)));

    // Close handlers
    if (lbBackdrop) lbBackdrop.addEventListener("click", closeLightbox);
    if (lbClose) lbClose.addEventListener("click", closeLightbox);

    // Nav handlers
    if (lbNext) lbNext.addEventListener("click", lightboxNext);
    if (lbPrev) lbPrev.addEventListener("click", lightboxPrev);

    // Keyboard: ESC closes; arrows navigate (only when modal open)
    document.addEventListener("keydown", (e) => {
        if (!lightboxOpen) return;
        if (e.key === "Escape") closeLightbox();
        if (e.key === "ArrowRight") lightboxNext();
        if (e.key === "ArrowLeft") lightboxPrev();
    });

    // Init
    if (track && items.length) {
        buildDots();
        bindCarouselButtons();
        goTo(0);
    }
</script>

<script>
  // ===== Calendario respaldado por repositorio (assets/calendar.json) =====

  const calGrid = document.getElementById("calGrid");
  const calMonthLabel = document.getElementById("calMonthLabel");
  const calPrev = document.getElementById("calPrev");
  const calNext = document.getElementById("calNext");

  const calModal = document.getElementById("calModal");
  const calModalBackdrop = document.getElementById("calModalBackdrop");
  const calModalClose = document.getElementById("calModalClose");
  const calModalDate = document.getElementById("calModalDate");
  const calModalSub = document.getElementById("calModalSub");
  const calItems = document.getElementById("calItems");
  const calAddItem = document.getElementById("calAddItem");

  const CAL_URL = "assets/calendar.json";
  const LOCALE = "es-MX";

  function pad2(n) { return String(n).padStart(2, "0"); }
  function ymd(d) {
    return `${d.getFullYear()}-${pad2(d.getMonth()+1)}-${pad2(d.getDate())}`;
  }

  function formatMonthLabel(d) {
    return d.toLocaleDateString(LOCALE, { year: "numeric", month: "long" });
  }

  function startOfMonth(d) { return new Date(d.getFullYear(), d.getMonth(), 1); }
  function getGridStartDate(viewDate) {
    const first = startOfMonth(viewDate);
    return new Date(first.getFullYear(), first.getMonth(), first.getDate() - first.getDay());
  }

  let viewDate = new Date();
  let selectedDayKey = null;
  let calendarDoc = { version: 1, items: {} };

  async function loadCalendarDoc() {
    try {
      const res = await fetch(CAL_URL, { cache: "no-store" });
      calendarDoc = await res.json();
    } catch {
      calendarDoc = { version: 1, items: {} };
    }
  }

  function renderCalendar() {
    calMonthLabel.textContent = formatMonthLabel(viewDate);
    calGrid.innerHTML = "";

    const dows = ["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"];
    dows.forEach(d => {
      const el = document.createElement("div");
      el.className = "cal-dow";
      el.textContent = d;
      calGrid.appendChild(el);
    });

    const start = getGridStartDate(viewDate);
    const month = viewDate.getMonth();

    for (let i = 0; i < 42; i++) {
      const day = new Date(start);
      day.setDate(start.getDate() + i);
      const key = ymd(day);

      const cell = document.createElement("div");
      cell.className = "cal-day" + (day.getMonth() !== month ? " muted" : "");

      const num = document.createElement("div");
      num.className = "cal-day-num";
      num.textContent = day.getDate();

      const badges = document.createElement("div");
      badges.className = "cal-badges";

      const items = calendarDoc.items[key] || [];
      if (items.length) {
        const badge = document.createElement("div");
        badge.className = "cal-badge";
        badge.textContent = `${items.length} evento${items.length === 1 ? "" : "s"}`;
        badges.appendChild(badge);
      }

      cell.appendChild(num);
      cell.appendChild(badges);
      cell.onclick = () => openDayModal(key, day);
      calGrid.appendChild(cell);
    }
  }

  function openDayModal(key, dateObj) {
    selectedDayKey = key;
    calModalDate.textContent = dateObj.toLocaleDateString(LOCALE, {
      weekday: "long", year: "numeric", month: "long", day: "numeric"
    });

    calModalSub.textContent =
      "";

    renderDayItems();
    calModal.classList.add("open");
    document.body.style.overflow = "hidden";
  }

  function closeModal() {
    calModal.classList.remove("open");
    document.body.style.overflow = "";
  }

  function renderDayItems() {
    calItems.innerHTML = "";
    const items = calendarDoc.items[selectedDayKey] || [];

    if (!items.length) {
      calItems.textContent = "No hay eventos para este día.";
      return;
    }

    items.forEach(it => {
      const row = document.createElement("div");
      row.className = "cal-item";

      const left = document.createElement("div");
      left.innerHTML = `<div class="cal-item-title">${it.text}</div>`;

      if (it.url) {
        left.innerHTML += `<div class="small"><a href="${it.url}" target="_blank" rel="noopener">Ver más</a></div>`;
      }

      row.appendChild(left);
      calItems.appendChild(row);
    });
  }

  function addItemGenerate() {
    const text = prompt("Escribe una nota corta (obligatorio):");
    if (!text) return;

    const url = prompt("Enlace opcional (https://...)") || "";
    const id = crypto.randomUUID();

    calendarDoc.items[selectedDayKey] = calendarDoc.items[selectedDayKey] || [];
    calendarDoc.items[selectedDayKey].unshift({ id, text, url });

    alert(
      "Evento agregado en vista previa.\n\n" +
      "Para publicarlo:\n" +
      "1) Descarga el archivo calendar.json\n" +
      "2) Reemplázalo en el repositorio\n" +
      "3) Haz commit y push"
    );

    const blob = new Blob(
      [JSON.stringify(calendarDoc, null, 2)],
      { type: "application/json" }
    );
    const a = document.createElement("a");
    a.href = URL.createObjectURL(blob);
    a.download = "calendar.json";
    a.click();
  }

  calPrev.onclick = () => {
    viewDate = new Date(viewDate.getFullYear(), viewDate.getMonth() - 1, 1);
    renderCalendar();
  };

  calNext.onclick = () => {
    viewDate = new Date(viewDate.getFullYear(), viewDate.getMonth() + 1, 1);
    renderCalendar();
  };

  calAddItem.onclick = addItemGenerate;
  calModalBackdrop.onclick = closeModal;
  calModalClose.onclick = closeModal;

  (async () => {
    await loadCalendarDoc();
    renderCalendar();
  })();
</script>

<script>
  // =========================
  // CONFIG
  // =========================

  /**
   * If a service has a quantity input and qty > 1, we must still send strings
   * because the API expects required_services: string[].
   *
   * Choose how to embed quantity into the string:
   * - "suffix":  "asador (x2)"
   * - "prefix":  "2 asador"
   */
  const BOOKING_CONFIG = {
    quantityFormat: "suffix" // "suffix" | "prefix"
  };

  /**
   * IMPORTANT:
   * - `label` is exactly what your backend expects in required_services[].
   * - `defaultChecked` optionally starts the checkbox marked.
   * - `showQuantity` optionally shows a numeric input for that item.
   * - `defaultQty` optional default for quantity input.
   */
  const BOOKING_SERVICES = [
    { id: "agua-potable", label: "agua potable", defaultChecked: true, showQuantity: true },
    { id: "cafetera", label: "cafetera para calentar agua (*)", defaultChecked: false, showQuantity: false },
    { id: "anafre", label: "anafre", defaultChecked: false,  showQuantity: false },
    { id: "lenia-atajo", label: "atajo de leña (*)", defaultChecked: false, showQuantity: true,  defaultQty: 1 },
    { id: "asador", label: "asador de gas portátil (*)", defaultChecked: false, showQuantity: false,  defaultQty: 1 },
    { id: "camastro", label: "camastro (*)", defaultChecked: false, showQuantity: true, defaultQty: 1 },
    { id: "casa2p", label: "casa de campaña para 2 personas (*)", defaultChecked: false, showQuantity: true },
    { id: "carbon", label: "carbon (*)", defaultChecked: false, showQuantity: true }
  ];

  // =========================
  // /CONFIG
  // =========================

  (function initBookingCard() {
    const servicesWrap = document.getElementById("br-services");
    const nameEl = document.getElementById("br-name");
    const addEl = document.getElementById("br-additional");
    const msgEl = document.getElementById("br-msg");
    const selectedEl = document.getElementById("br-selected");
    const outputEl = document.getElementById("br-output");
    const generateBtn = document.getElementById("br-generate");
    const copyBtn = document.getElementById("br-copy");
    const copyHint = document.getElementById("br-copyhint");
    
    const dateEl = document.getElementById("br-date");
    const personsEl = document.getElementById("br-persons");
    const emailEl = document.getElementById("br-email");
    const cellEl = document.getElementById("br-cell");

    // Optional: default date = today (local)
    if (dateEl && !dateEl.value) {
        const d = new Date();
        const yyyy = d.getFullYear();
        const mm = String(d.getMonth() + 1).padStart(2, "0");
        const dd = String(d.getDate()).padStart(2, "0");
        dateEl.value = `${yyyy}-${mm}-${dd}`;
    }

    // Render checkbox list (+ optional qty)
    servicesWrap.innerHTML = BOOKING_SERVICES.map(s => {
      const checkedAttr = s.defaultChecked ? "checked" : "";
      const qtyId = `qty-${s.id}`;
      const qtyWrapClass = s.showQuantity ? "qty-wrap show" : "qty-wrap";
      const qtyValue = (typeof s.defaultQty === "number" && s.defaultQty > 0) ? s.defaultQty : 1;

      const descHtml = s.description ? `<div class="desc">${escapeHtml(s.description)}</div>` : "";
      const qtyHtml = `
        <div class="${qtyWrapClass}">
          <input
            class="qty"
            type="number"
            min="1"
            step="1"
            id="${escapeAttr(qtyId)}"
            value="${escapeAttr(qtyValue)}"
            aria-label="Quantity for ${escapeAttr(s.label)}"
          />
          <div class="qty-caption">Cant.</div>
        </div>
      `;

      return `
        <div class="row">
          <input
            type="checkbox"
            id="svc-${escapeAttr(s.id)}"
            data-label="${escapeAttr(s.label)}"
            data-show-qty="${s.showQuantity ? "1" : "0"}"
            data-qty-id="${escapeAttr(qtyId)}"
            ${checkedAttr}
          />
          <div>
            <label for="svc-${escapeAttr(s.id)}">${escapeHtml(s.label)}</label>
            ${descHtml}
          </div>
          ${qtyHtml}
        </div>
      `;
    }).join("");

    // Update selected count
    function updateSelectedCount() {
      const checked = servicesWrap.querySelectorAll('input[type="checkbox"]:checked');
      selectedEl.textContent = String(checked.length);
    }
    servicesWrap.addEventListener("change", updateSelectedCount);
    updateSelectedCount();

    function showMsg(kind, text) {
      msgEl.style.display = "block";
      msgEl.className = "msg " + (kind === "ok" ? "ok" : "err");
      msgEl.textContent = text;
    }
    function clearMsg() {
      msgEl.style.display = "none";
      msgEl.className = "";
      msgEl.textContent = "";
    }

    function formatWithQty(label, qty) {
      if (!qty || qty <= 1) return label;
      if (BOOKING_CONFIG.quantityFormat === "prefix") return `${qty} ${label}`;
      return `${label} (x${qty})`; // suffix
    }

    function gather() {
        const name = (nameEl.value || "").trim();
        const additional_info = (addEl.value || "").trim();

        const date = (dateEl?.value || "").trim(); // "YYYY-MM-DD"
        const persons = Math.max(1, Math.floor(Number(personsEl?.value || 1) || 1));
        const email = (emailEl?.value || "").trim();
        const cell = (cellEl?.value || "").trim();

        const checkedCbs = Array.from(
        servicesWrap.querySelectorAll('input[type="checkbox"]:checked')
        );

        const required_services = checkedCbs
        .map((cb) => {
            const label = cb.getAttribute("data-label") || "";
            const showQty = cb.getAttribute("data-show-qty") === "1";
            if (!showQty) return label;

            const qtyId = cb.getAttribute("data-qty-id");
            const qtyEl = qtyId ? document.getElementById(qtyId) : null;
            let qty = 1;
            if (qtyEl && qtyEl.value != null) {
            const n = Number(qtyEl.value);
            qty = Number.isFinite(n) && n >= 1 ? Math.floor(n) : 1;
            }
            return formatWithQty(label, qty);
        })
        .filter(Boolean);

        return {
        name,
        date,
        persons,
        email,
        cell,
        required_services,
        additional_info,
        };
    }

    generateBtn.addEventListener("click", function () {
      clearMsg();
      copyHint.textContent = "";

      const payload = gather();

      if (!payload.name) {
        showMsg("err", "Name is required.");
        outputEl.value = "";
        return;
      }
      if (!payload.required_services.length) {
        showMsg("err", "Select at least one service.");
        outputEl.value = "";
        return;
      }

      if (!payload.date) { showMsg("err", "Date is required."); outputEl.value=""; return; }
      if (!payload.email) { showMsg("err", "Email is required."); outputEl.value=""; return; }
      if (!payload.cell) { showMsg("err", "Cell number is required."); outputEl.value=""; return; }
      if (payload.persons < 1) { showMsg("err", "Quantity of persons must be at least 1."); outputEl.value=""; return; }

      outputEl.value = JSON.stringify(payload, null, 2);
      showMsg("ok", "JSON generated. Copy/paste it where you need.");
    });

    copyBtn.addEventListener("click", async function () {
      copyHint.textContent = "";
      const text = outputEl.value || "";
      if (!text) {
        copyHint.textContent = "Nothing to copy yet.";
        return;
      }

      try {
        await navigator.clipboard.writeText(text);
        copyHint.textContent = "Copied.";
        return;
      } catch (e) {}

      try {
        outputEl.focus();
        outputEl.select();
        const ok = document.execCommand("copy");
        copyHint.textContent = ok ? "Copied." : "Copy failed — select text and copy manually.";
      } catch (e) {
        copyHint.textContent = "Copy failed — select text and copy manually.";
      }
    });

    // Whatsapp button --> start
    const whatsappBtn = document.getElementById("br-whatsapp");

    function buildWhatsAppMessageFromForm() {
        // expects these inputs exist (you added them earlier):
        // br-name, br-date, br-persons, br-email, br-cell, plus the selected services & output JSON
        const name = (document.getElementById("br-name")?.value || "").trim();
        const date = (document.getElementById("br-date")?.value || "").trim();
        const persons = (document.getElementById("br-persons")?.value || "").trim();
        const email = (document.getElementById("br-email")?.value || "").trim();
        const cell = (document.getElementById("br-cell")?.value || "").trim();

        // If JSON exists, use it; else try to generate a minimal one from current fields
        const json = (outputEl.value || "").trim();

        // Pull required_services from the UI (so message stays accurate even if JSON wasn’t generated)
        const checkedCbs = Array.from(
        servicesWrap.querySelectorAll('input[type="checkbox"]:checked')
        );

        const services = checkedCbs
        .map((cb) => cb.getAttribute("data-label") || "")
        .filter(Boolean);

        const servicesBlock = services.length
        ? services.map((s) => `- ${s}`).join("\n")
        : "(none)";

        const header =
        "Hola, quiero hacer una reservación.\n\n" +
        `Nombre: ${name || "(sin nombre)"}\n` +
        `Fecha: ${date || "(sin fecha)"}\n` +
        `Personas: ${persons || "(sin dato)"}\n` +
        `Email: ${email || "(sin email)"}\n` +
        `Cel: ${cell || "(sin cel)"}\n\n` +
        "Servicios requeridos:\n" +
        servicesBlock;

        const jsonBlock = json
        ? `\n\nJSON:\n${json}`
        : "";

        return header + jsonBlock;
    }

    whatsappBtn.addEventListener("click", function () {
        // WhatsApp recipient (Mexico example would be 521 + 10 digits; use what you want)
        // If you want to send to your business number, set it here:
        const recipientPhoneE164 = "524491576284"; 
        // Leave empty to open WhatsApp without a fixed recipient (user picks contact).
        // If you set it, use digits only, no +. Example: "5214491234567"

        // Build message
        const msg = buildWhatsAppMessageFromForm();

        // IMPORTANT: wa.me uses URL-encoded text
        const text = encodeURIComponent(msg);

        // Build wa.me URL
        const url = recipientPhoneE164
        ? `https://wa.me/${recipientPhoneE164}?text=${text}`
        : `https://wa.me/?text=${text}`;

        // Open in new tab so the user doesn't lose the page
        window.open(url, "_blank", "noopener,noreferrer");

        // helpful hint
        copyHint.textContent = "WhatsApp: +52 449 157 6284";
    });
    // Whatsapp button --> end

    // helpers
    function escapeHtml(str) {
      return String(str)
        .replaceAll("&", "&amp;")
        .replaceAll("<", "&lt;")
        .replaceAll(">", "&gt;")
        .replaceAll('"', "&quot;")
        .replaceAll("'", "&#039;");
    }
    function escapeAttr(str) {
      return escapeHtml(str).replaceAll("`", "&#096;");
    }
  })();
</script>

</body>
</html>